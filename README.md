Сайт лаборатории GrapeLab

## Запуск сервера

Установить Node.js и запустить в терминале:

```bash
npm run dev
```

Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Прописывание параметров окружения

В репозитории есть файл `.env.example`, нужно создать его копию под именем `.env` и указать ключевую информацию о сайте (прежде всего, БД и данные для входа в админку)

## Развертывание в Docker

База данных не содержится в контейнере и должна быть прописана в `.env` файле. Если есть дамп, то лучше накатить его перед запуском docker. Дамп состоит из `sql` файла базы данных PostgreSQL, а также папки `uploads`, которая должна быть размещена в репозитории в папку `public`. Она будет доступна как внешний volume и ее можно править вне контейнера

В корне репозитория:

```bash
docker compose up -d
```

Предлагаемые порты находятся в файле `docker-compose.yml`

По умолчанию [http://localhost:8071](http://localhost:8071) - админка, [http://localhost:8072](http://localhost:8072) - сам сайт

## Последовательность действий при разработке

Если меняете код, не забудьте последовательность действий:

```bash
npx prisma migrate deploy
npx prisma generate
npm run dev
```